<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Welcome Page</title>
</head>
<body>
{% if user_data %}
    {% if user_data.first_name %}
        {% if user_data.last_name %}
  <h1>Hello {{ user_data.first_name }} {{user_data.last_name}} !</h1>
    <p>First Name: {{ user_data.first_name }} </p>
    <p>Last Name: {{ user_data.last_name }} </p>
    <p>User Email: {{ user_data.email }} </p>
        {% endif %}
    {% else %}
    <h1>Hello {{ user_data.login }} !</h1>
    <p>User Email: {{ user_data.email }} </p>
    {% endif %}
{% else %}
  <h1>Hello, Unknown User!</h1>
{% endif %}
<img src="https://media1.tenor.com/m/R5IECfIf34YAAAAd/fish-spinning.gif" alt="Bruh">
<br>
<a href="/logout">
  <button>
    Logout
  </button>
</a>

<!-- 🛡️ Inactivity Auto-Logout Script -->
<script>
let inactivityTimer;
const inactivityLimit = 30* 60 * 1000; // 30 minutes

function resetInactivityTimer() {
    clearTimeout(inactivityTimer);
    inactivityTimer = setTimeout(() => {
        alert("You have been inactive for 30 minutes. Logging out...");
        window.location.href = "/logout";
    }, inactivityLimit);
}

window.onload = resetInactivityTimer;
document.onmousemove = resetInactivityTimer;
document.onkeypress = resetInactivityTimer;
document.onscroll = resetInactivityTimer;
document.onclick = resetInactivityTimer;
</script>

</body>
</html>
